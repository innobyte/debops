---
# .. vim: foldmarker=[[[,]]]:foldmethod=marker

# debops.grafana_server default variables
# =======================================

# .. contents:: Sections
#    :local:
#
# .. include:: ../../../../includes/global.rst


# Grafana server configuration [[[
# --------------------------------

# .. envvar:: grafana_server__apt_repository_key_url [[[
#
# The GPG key of the upstream Grafana Server APT repository.
grafana_server__apt_repository_key_url: 'https://packages.grafana.com/gpg.key'

                                                                   # ]]]
# .. envvar:: grafana_server__upstream_apt_repository [[[
#
# The APT repository URI of the upstream Grafana Server repository.
grafana_server__upstream_apt_repository: 'deb https://packages.grafana.com/oss/deb stable main'

                                                                   # ]]]
# APT packages [[[
# ----------------

# .. envvar:: grafana_server__base_packages [[[
#
# List of APT packages which are required by the Grafana Server.
grafana_server__base_packages: [ 'grafana' ]

                                                                   # ]]]
# .. envvar:: grafana_server__packages [[[
#
# List of APT packages to install on all hosts in Grafana Server inventory.
grafana_server__packages: [ 'software-properties-common', 'apt-transport-https' ]

                                                                   # ]]]
# .. envvar:: grafana_server__allow [[[
#
# List of IP addresses or CIDR subnets which will be allowed to connect to the
# Grafana server in :command:`ip(6)tables` and TCP wrappers. If it's empty, remote
# connections are not allowed.
grafana_server__allow: [ '0.0.0.0/0' ]

                                                                   # ]]]
# .. envvar:: grafana_server__port [[[
#
# Port number on which this Grafana server listens on.
grafana_server__port: '3000'

                                                                   # ]]]
# Configuration for other Ansible roles [[[
# -----------------------------------------

# .. envvar:: grafana_server__ferm__dependent_rules [[[
#
# Configuration for :ref:`debops.ferm` Grafana Server role.
grafana_server__ferm__dependent_rules:

  - type: 'accept'
    dport: [ 'grafana_server' ]
    saddr: '{{ grafana_server__allow }}'
    accept_any: False
    weight: '40'
    role: 'grafana'

                                                                   # ]]]
# .. envvar:: grafana_server__etc_services__dependent_list [[[
#
# Configuration for the :ref:`debops.etc_services` Grafana Server role.
grafana_server__etc_services__dependent_list:

  - name: 'grafana_server'
    port: '{{ grafana_server__port }}'

                                                                   # ]]]
