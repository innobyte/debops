# {{ ansible_managed }}
{% for element in jenkins__combined_parameters | parse_kv_items %}
{%   if element.name|d() and element.state|d('present') not in [ 'absent', 'ignore' ] %}

{%     if element.comment|d() %}
{{        element.comment | regex_replace('\n$','') | comment(prefix='', postfix='') -}}
{%     endif %}
{%     set commented_entry = '' %}
{%     if (element.state|d('present') == 'comment') %}
{%       set commented_entry = '#' %}
{%     endif %}
{{     '{}{}={}'.format(commented_entry, element.name, element.value) }}
{%   endif %}
{% endfor %}
